# SBDB-CAD-API-Test-Suite
This repository contains API test automation suite for Californian Institute of Technologyâ€™s (CIT) SBDB Close-Approach Data API.

# Understanding API test automation Framework
Test automation suite is written in go and use `go test` to run the test cases.


`Docker` needs to be installed on test machine.


This repository contains below folders



```sh
utils/ : contains utility functions
runTestSuit.sh : to run the test automation suite
libs/  : contains test case related functions
types/ : contains types , variable and constant
Dockerfile : text document that contains all the commands a user could call on the command line to assemble an image
tests/  : contains test cases
test.sh : this scripts to execute test and generate report in container
go.mod  : collection of Go packages
go.sum  : go.sum file lists down the checksum of direct and indirect dependency required 
```

# Getting Started With This Project
To get started, clone this repo, and run `./runTestSuit.sh`.

```sh
git clone https://github.com/ankitnayaDa/SBDB-CAD-API-Test-Suite.git
cd SBDB-CAD-API-Test-Suite
./runTestSuit.sh
```
The aforementioned command outputs an test report HTML file in the same location.  
`test_report.html`

## Understanding HTML test report
The HTML file generated by  is designed to provide an easy way to navigate test results. At the top of the page are general stats related to the test. Below is the title of the test followed by a section called "Test Groups". Tests are organized into these groups which are represented by color-coded squares. A green square indicates that all test in that group passed. A red square indicates that at least one test in that group failed.

To view the tests in a particular test group, click on any of the test group indicators. A selected group indicator will be colored in black. The number of tests allocated per test group can be set with the groupSize command-line flag.

![image](https://user-images.githubusercontent.com/93188283/186396467-8cc8f138-a494-4a2e-84ce-f790f2b61c79.png)

To view the output of a related test, click on the title of a test on the list. If you want to expand all of the test on the list, simultaneously press shift and the test group indicator.

![image](https://user-images.githubusercontent.com/93188283/186396724-aed840e8-e70b-4e4f-8deb-0a8b6c0c2c82.png)

# Test cases covered:
1. Fetch all Close Approach object data for mars and verify if data is received or not  
2. Fetch all Close Approach object data for mars based on specific dates and verify if data is sorted based on date
3. Fetch all Close Approach object data for mars based on specific maximun and minimum distances and verify if data is sorted based on disttance
4. Verify Zero count results in mars for class IEO
5. Fetch all NEAs and comets for mars and verify if data is sorted based on distance
6. Fetch all NEOS for earth and verify if data is sorted based on distance
7. Fetch all numbered-objects for earth with filter based on dates and verify if data is sorted based on date
8. Fetch details for neo 2020 QW3 for earth and verify if data is sorted based on distance
9. Verify user able to view  details for neo 2020 QW3 for earth with limit 2
10. Verify user able to view All NEOS for earth sorted based on distance with diameter and fullname
11. Test for 400 bad request when request contained invalid keywords and/or content (details returned in the JSON payload)
12. Test 405 response when the request used an incorrect method (see the HTTP Request section) 
